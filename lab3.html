<html>

<head>
    <title> Lab1 X3DOM </title>
    <script type='text/javascript' src='https://www.x3dom.org/download/x3dom.js'>
    </script>
    <link rel='stylesheet' type='text/css' href='https://www.x3dom.org/download/x3dom.css'>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://www.x3dom.org/download/dev/x3dom.css" />
    <script src="https://www.x3dom.org/download/dev/x3dom-full.js"></script>
    <link rel="stylesheet" href="../../css/custom.css" />
    <script src="../../js/custom.js"></script>
    <script>
        document.onload = function () {
            var white = false;
            document.getElementById('Cube').onclick = function () {
                document.getElementById('CubeMaterial').setAttribute('diffuseColor', white
                    ? '1 .6 .2' : '1 1 1');
                white = !white;
            };
        }
    </script>
    <style>
        x3d {
            border: 4px solid rgb(35, 177, 47);
            background-image: url('https://c0.wallpaperflare.com/preview/488/505/307/%D1%80%D0%BE%D1%81%D1%81%D0%B8%D1%8F-%D0%BA%D1%80%D0%B0%D1%81%D0%BD%D0%BE%D1%8F%D1%80%D1%81%D0%BA%D0%B8%D0%B9-%D0%BA%D1%80%D0%B0%D0%B9-stolby-krasnoyarsk.jpg');
        }

        body {
            font-size: 100%;
            font-family: verdana, sans-serif;
            background: rgb(244, 244, 244);
            color: rgb(0, 0, 0);
        }

        h1 {
            color: rgb(0, 0, 0);
        }
    </style>
</head>

<body>
    <h1> Гр. 4041 Дунаев Максим Владимирович </h1>
    <p>
        Кафедра 44
    </p>
    <p>
        Это html-страница с 3d-объектами.
    </p>
    <x3d width='1289px' height='720px'>
        <scene>
            <transform translation='0 2 0'>
                <shape>
                    <appearance>
                        <ImageTexture
                            url="http://t1.gstatic.com/licensed-image?q=tbn:ANd9GcRRv9ICxXjK-LVFv-lKRId6gB45BFoNCLsZ4dk7bZpYGblPLPG-9aYss0Z0wt2PmWDb">
                            <ImageTexture />
                    </appearance>
                    <box> </box>
                </shape>
            </transform>
            <Transform translation="0 -2 0">
                <Shape>
                    <Appearance>
                        <Material id='CubeMaterial' diffuseColor="red"></Material>
                    </Appearance>
                    <Box id='Cube' height="2" xbottom="6" ybottom="3" xtop="2" ytop="2" xoff="0" yoff="0"></Box>
                </Shape>
            </Transform>
            <Transform translation="0 0 0">
                <TimeSensor DEF='Time' cycleInterval='5' loop='true'></TimeSensor>
                <ColorInterpolator DEF='ColInt' key='0 0.33 0.66 1' keyValue='1 0
                0, 0 1 0, 0 0 1, 1 0 0'>
                </ColorInterpolator>
                <Shape>
                    <Appearance>
                        <Material DEF='Mat' diffuseColor='sienna'></Material>
                    </Appearance>
                    <Cylinder outerRadius="1" innerRadius="0.5" nozzleRadius="1.5" nozzleHeight="1" height="2">
                    </Cylinder>
                </Shape>
                <ROUTE fromNode='Time' fromField='fraction_changed' toNode='ColInt' toField='set_fraction'>
                </ROUTE>
                <ROUTE fromNode='ColInt' fromField='value_changed' toNode='Mat' toField='set_diffuseColor'>
                </ROUTE>
            </Transform>
            <Transform translation="-2 -4 0">
                <Shape>
                    <Text string='"Dunaev"' solid='false'>
                        <FontStyle family="TYPEWRITER" size='1' spacing='0.1' language='en'></FontStyle>
                    </Text>
                    <Appearance>
                        <Material diffuseColor='white'></Material>
                    </Appearance>
                </Shape>
            </Transform>
            <Transform translation="-2 0 0" DEF="Dish">
                <Shape>
                    <Appearance>
                        <Material diffuseColor='sienna'></Material>
                    </Appearance>
                    <Dish></Dish>
                </Shape>
            </Transform>
            <TimeSensor DEF="Time" cycleInterval="3" loop="true"></TimeSensor>
            <PositionInterpolator DEF="Move" key="0 0.5 1" keyValue="0 0 0 0 3 0 0 2 0">
            </PositionInterpolator>
            <Route fromNode="Time" fromField="fraction_changed" toNode="Move" toField="set_fraction"></Route>
            <Route fromNode="Move" fromField="value_changed" toNode="Dish" toField="translation"></Route>
            <Transform translation="2 0 0">
                <Shape>
                    <Appearance>
                        <Material diffuseColor='sienna'></Material>
                    </Appearance>
                    <Dish></Dish>
                </Shape>
            </Transform>
            <Transform translation="0 -1 0">
                <Shape>
                    <Appearance>
                        <Material diffuseColor='sienna'></Material>
                    </Appearance>
                    <Torus></Torus>
                </Shape>
            </Transform>
            <Transform translation='-6 0 0'>
                <Shape DEF="IndexedFaceSet">
                    <Appearance>
                        <Material></Material>
                    </Appearance>
                    <IndexedFaceSet coordIndex='0 1 3 2 -1 4 5 7 6 -1 6 7 1 0 -1 2 3 5 4 -1 6 0 2 4 -1 1 7 5 3 -1'>
                        <Coordinate point='-2 1 1 -2 -1 1 2 1 1 2 -1 1 2 1 -1 2 -1 -1 -2 1 -1 -2 -1 -1' />
                        <Normal vector='0 0 1 0 1 0 0 0 1 0 1 0 1 0 0 0 1 0 -1 0 0 0 1 0' />
                    </IndexedFaceSet>
                </Shape>
                <Transform translation="12 0 0">
                    <Shape USE="IndexedFaceSet">
                    </Shape>
                </Transform>
            </Transform>
            <Transform translation="0 5 0">
                <Group DEF='Koloboks'>
                    <Anchor url="https://www.youtube.com/watch?v=9M286oRxFxs" parameter="target='_self'">
                        <Shape>
                            <Appearance>
                                <ImageTexture
                                    url="https://previews.123rf.com/images/ninell/ninell1204/ninell120400001/13357612-bread-texture.jpg">
                                </ImageTexture>
                            </Appearance>
                            <Sphere radius='1'></Sphere>
                        </Shape>
                    </Anchor>
                    <Transform translation="-2.5 0.25 0">
                        <Anchor url="https://www.youtube.com/watch?v=rWvyk02vMAE" parameter="target='_self'">
                            <Shape>
                                <Appearance>
                                    <ImageTexture
                                        url="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcToW37GFjlc5UjFR7xITGydTR8t7GSiwR_VU7r4i3EAdjH6ZCrJUvYLM8iVmd1pteRdc7g&usqp=CAU">
                                    </ImageTexture>
                                </Appearance>
                                <Sphere radius='1.4'></Sphere>
                            </Shape>
                        </Anchor>
                    </Transform>
            </Transform>
            </Group>
            <Inline url="http://www.web3d.org/x3d/content/examples/HelloWorld.x3d" />
            <Viewpoint position='0 0 20' />
            <NavigationInfo type='"EXAMINE" "WALK" "FLY" "ANY"' />
            <PointLight location="0 10 4" color="1 1 1" intensity="4" shadowIntensity="0.5" shadowMapSize="1024">
            </PointLight>
            <SpotLight location='10 3 3' direction='0 0 0' beamWidth='pi/2' color='1,1,1' />
            </SpotLight>
        </scene>
    </x3d>
</body>

</html>
